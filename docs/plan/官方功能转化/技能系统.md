# Skill 技能系统

## 概述

管理 Claude Code 的 Skill（技能）系统，允许用户查看、启用/禁用技能，配置技能参数。

## 需求

### 14.1 核心功能

| 功能 | 描述 |
|------|------|
| 技能列表 | 查看所有可用技能及状态 |
| 技能详情 | 查看技能说明、参数配置、使用示例 |
| 启用/禁用 | 激活或停用技能 |
| 技能搜索 | 按关键字搜索技能 |
| 技能分类 | 按类别筛选技能 |
| 用户配置 | 保存用户偏好的技能设置 |

### 14.2 技能属性

```json
{
  "skill_id": "skill-pdf",
  "name": "PDF 处理",
  "description": "读取、创建和编辑 PDF 文件",
  "category": "文件处理",
  "version": "1.2.0",
  "author": "Claude Team",
  "tags": ["pdf", "document", "file"],
  "is_enabled": true,
  "is_builtin": true,
  "parameters": [...],
  "examples": [...],
  "permissions": ["file:read", "file:write"]
}
```

### 14.3 API 设计

```json
# 获取技能列表
GET /api/skills?category={category}&enabled_only={bool}

Response: 200 OK
{
  "skills": [
    {
      "skill_id": "skill-pdf",
      "name": "PDF 处理",
      "description": "读取、创建和编辑 PDF 文件",
      "category": "文件处理",
      "version": "1.2.0",
      "is_enabled": true,
      "is_builtin": true
    }
  ],
  "total": 15,
  "categories": ["文件处理", "代码生成", "测试", "部署"]
}

# 获取技能详情
GET /api/skills/{skill_id}

Response: 200 OK
{
  "skill_id": "skill-pdf",
  "name": "PDF 处理",
  "description": "...",
  "parameters": [...],
  "examples": [...],
  "permissions": ["file:read"],
  "usage_count": 42
}

# 启用/禁用技能
POST /api/skills/{skill_id}/enable
POST /api/skills/{skill_id}/disable

# 搜索技能
GET /api/skills/search?q={keyword}

# 获取用户配置
GET /api/skills/config

# 更新用户配置
PUT /api/skills/config

Request:
{
  "enabled_skills": ["skill-pdf", "skill-git"],
  "skill_settings": {
    "skill-pdf": {"default_options": {"extract_text": true}}
  }
}
```

### 14.4 UI 设计

- 技能卡片列表（名称、描述、版本、启用状态）
- 分类标签筛选
- 技能详情弹窗（参数表格、使用示例）
- 启用/禁用开关按钮

### 14.5 优先级

| 功能 | 优先级 |
|------|--------|
| 技能列表 API | P0 |
| 技能详情 API | P0 |
| 启用/禁用 API | P0 |
| 搜索 API | P1 |
| 用户配置 API | P1 |
| 前端列表页 | P1 |

## 数据来源

- 内置技能：从 `~/.claude/skills/` 目录读取
- 用户配置：存储在 `~/.claude/skills/user_config.json`
