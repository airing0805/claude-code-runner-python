# 会话管理

## 1. 功能概述

管理 Claude Code 执行的历史会话，提供项目列表和会话列表查询功能，让用户可以查看之前的任务执行记录。

## 2. 用户场景

| 场景 | 描述 |
|------|------|
| 查看项目列表 | 用户想了解有哪些项目使用过 Claude Code |
| 查看项目会话 | 用户想查看某个项目的所有历史会话 |

## 3. 功能列表

### 3.1 项目列表

- 获取所有使用过 Claude Code 的项目
- 显示每个项目的基本信息：
  - 项目编码名称
  - 项目路径
  - 会话数量
  - 使用的工具列表

### 3.2 会话列表

- 获取指定项目的所有历史会话
- 显示会话基本信息：
  - 会话 ID
  - 会话标题（首条用户消息）
  - 创建时间
  - 消息数量
  - 会话数据大小

## 4. 验收标准

### 4.1 功能验收

- [ ] 项目列表 API 返回所有项目信息
- [ ] 项目列表包含正确的会话数量和工具汇总
- [ ] 会话列表 API 按项目返回历史会话
- [ ] 会话标题提取正确（过滤 ide_selection 和 ide_opened_file 标签）

### 4.2 数据格式验收

- [ ] 项目名称编码正确（路径特殊字符转换）
- [ ] 会话时间戳格式正确

### 4.3 UI 验收

- [ ] 项目列表页面正确显示
- [ ] 会话列表页面正确显示
