# 任务执行

## 功能需求

### 1.1 基本任务执行

- 用户输入任务描述（prompt）
- 设置工作目录（working_dir）
- 配置允许的工具列表（tools）
- 执行任务并显示结果

### 1.2 会话延续支持

- **continue_conversation**: 延续 CLI 中最近的对话历史
- **resume**: 通过会话 ID 恢复特定会话
- 会话 ID 自动提取和显示

### 1.3 任务控制

- 停止正在执行的任务（使用 AbortController）
- 清空输出区域

### 1.4 执行模式

- **同步模式**: POST /api/task，等待完整结果返回
- **流式模式**: POST /api/task/stream，SSE 实时推送执行过程
